@page "{handler?}"
@model ListModel
@{
	ViewData.SetTitle("User List");
}
<div class="row justify-content-end">
	<div class="col-auto">
		<partial name="_UserSearch" />
	</div>
</div>
<hr>
<partial name="_Pager" model="Model.Users" />
<standard-table>
	<sortable-table-head sorting="@Model.Search" model-type="typeof(ListModel.UserEntry)" />
	@foreach (var user in Model.Users)
	{
		<tr>
			<td>@user.Id</td>
			<td>@user.UserName</td>
			<td>@string.Join(",", user.Roles)</td>
			<td><timezone-convert asp-for="@user.CreateTimestamp" /></td>
			<td-action-column>
				<profile-link username="@user.UserName"
							  class="btn btn-secondary btn-sm">
					<i class="fa fa-eye"></i> View
				</profile-link>
				<a permission="EditUsers"
				   asp-page="Edit"
				   asp-route-id="@user.Id"
				   class="btn-sm btn btn-primary border border-warning">
					<i class="fa fa-pencil"></i> Edit
				</a>
			</td-action-column>
		</tr>
	}
</standard-table>
<partial name="_Pager" model="Model.Users" />