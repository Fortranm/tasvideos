@using TASVideos.TagHelpers
@model BrokenLinks

@if (Model.Links.Any())
{
	<div>
		<label>Total: @Model.Links.Count</label>
	</div>
	<standard-table>
		<tbody>
		<tr>
			<th>Page</th>
			<th>Linked From</th>
			<th>Excerpt</th>
		</tr>
			@foreach (var link in Model.Links.OrderBy(b => b.Referrer))
		{
			<tr>
				<td style="max-width: 400px; overflow-x: auto"><a href="/@WikiHelper.ProcessLink(link.Referral)">@Html.Encode(WikiHelper.ProcessLink(link.Referral))</a></td>
				<td><a href="/@WikiHelper.ProcessLink(link.Referrer)">@WikiHelper.ProcessLink(link.Referrer)</a></td>
				<td><i>@link.Excerpt</i></td>
			</tr>
		}
		</tbody>
	</standard-table>
}
else
{
	<info-alert>
		No Broken Links to Display
	</info-alert>
}

